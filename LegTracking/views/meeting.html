<div data-role="view" id="meetingview" data-init="meetingListViewDataInit" data-show="meetingListViewDataShow" data-layout="save-button-layout" data-title="Edit Meeting">
    <form id="meetingForm">
        <div class="messages k-error-colored" >
            <span data-for="meetingdate" class="k-invalid-msg"></span>
			<span data-for="legislator" class="k-invalid-msg"></span>
            <span data-for="officeattendees" class="k-invalid-msg"></span>
            <span data-for="type" class="k-invalid-msg"></span>
        </div>
        <ul data-role="listview" data-style="inset" class="formArea" onclick="">
            <li style="margin: 0px; padding: 0px; width: 100%;">
                <ul class="listview-row-input-table">
                    <li class="listview-row-input-cell-label">
                        <span>Meeting Date</span>
                    </li>
                    <li class="listview-row-input-cell-control">
                        <input name="meetingdate" type="date" data-bind="value: meetingItem.MeetingDate" required validationmessage="Meeting date is required<br /\>" />
                    </li>
                </ul>
            </li>
            <li style="margin: 0px; padding: 0px; width: 100%;">
                <ul class="listview-row-input-table">
                    <li class="listview-row-input-cell-label">
                        <span>Notes</span>
                    </li>
                </ul>
            </li>
            <li style="margin: 0px; padding: 0px; width: 100%;">
                <ul class="listview-row-input-table">
                    <li class="listview-row-input-cell-control">
                        <div class="meetingTextArea">
                            <input type="checkbox" id="meetingToggle" tabindex="-1" />
                            <div class="meetingText">
                                <textarea data-bind="value: meetingItem.Notes"></textarea>
                                <label for="meetingToggle" class="meetingExpand">Full Screen</label>
                                <label for="meetingToggle" class="meetingCollapse">Return</label>
                            </div>
                        </div>
                    </li>
                </ul>
            </li>
        </ul>
        <ul id="meetingInitiativeListView"></ul>
        <div id="collapsible" data-role="collapsible" data-animation="false">
            <h2>MEETING INFORMATION</h2>
            <ul data-role="listview" data-style="inset" class="formArea" onclick="">
                <li style="margin: 0px; padding: 0px; width: 100%;">
                    <ul class="listview-row-input-table">
                        <li class="listview-row-input-cell-label">
                            <span>Legislator</span>
                        </li>
                        <li class="listview-row-input-cell-control">
                            <select name="legislator" data-bind="source: legislatorsOptions, value: meetingItem.LegislatorId"
                                    data-template="legislator-select-template" id="meetingLegislator" required validationmessage="Legislator is required<br /\>">
                            </select>
                            <script id="legislator-select-template" type="text/x-kendo-template">
                                <option value="#:Value#">#:Text#</option>
                            </script>
                        </li>
                    </ul>
                </li>
                <li style="margin: 0px; padding: 0px; width: 100%;">
                    <ul class="listview-row-input-table">
                        <li class="listview-row-input-cell-label">
                            <span>Office Attendees</span>
                        </li>
                        <li class="listview-row-input-cell-control">
                            <select name="officeattendees" data-bind="source: attendeeTypesOptions, value: meetingItem.AttendeeTypeId"
                                    data-template="attendeeType-select-template" id="meetingAttendeeType" required validationmessage="Office attendees is required<br /\>">
                            </select>
                            <script id="attendeeType-select-template" type="text/x-kendo-template">
                                <option value="#:Value#">#:Text#</option>
                            </script>
                        </li>
                    </ul>
                </li>
                <li style="margin: 0px; padding: 0px; width: 100%;">
                    <ul class="listview-row-input-table">
                        <li class="listview-row-input-cell-label">
                            <span>Type</span>
                        </li>
                        <li class="listview-row-input-cell-control">
                            <select name="type" data-bind="source: meetingLocationsOptions, value: meetingItem.MeetingLocationId"
                                    data-template="meetingLocation-select-template" id="meetingLocation" required validationmessage="Type is required<br /\>">
                            </select>
                            <script id="meetingLocation-select-template" type="text/x-kendo-template">
                                <option value="#:Value#">#:Text#</option>
                            </script>
                        </li>
                    </ul>
                </li>
                <li style="margin: 0px; padding: 0px; width: 100%;">
                    <ul class="listview-row-input-table">
                        <li class="listview-row-input-cell-label">
                            <span>Staff Attendees</span>
                        </li>
                        <li class="listview-row-input-cell-control">
                            <input type="text" data-bind="value: meetingItem.LegislatorStaffAttendees" />
                        </li>
                    </ul>
                </li>
            </ul>
            <ul id="meetingOtherListView"></ul>
        </div>
    </form>
</div>

<style>
    .meetingTextArea 
    {
        position: relative;
        z-index: 2147483646;
    }

    .meetingTextArea input 
    {
        /*display: none;*/
    }

    .meetingTextArea label 
    {
        background-color: #eee;
        border: solid 1px #ccc;
        border-radius: 3px;
        color: #999;
        font-size: 0.75em;
        font-variant: small-caps;
        padding: 0.25em;
        position: absolute;
        right: 0;
        text-transform: uppercase;
        top: 0;
        z-index: 2147483647;
    }

    .meetingTextArea label:hover 
    {
        color: #666;
    }

    .meetingText textarea 
    {
        background-color: white;
        height: 6em;
        margin: 0.5em 0 0 0 !important;
        padding-top: 0 !important;
        resize: none;
        width: 100%;
    }

    .meetingText .meetingExpand 
    {
    }

    .meetingText .meetingCollapse 
    {
        display: none;
    }

    .meetingTextArea input:checked ~ .meetingText 
    {
        background-color: white;
        bottom: 0;
        left: 0;
        position: fixed;
        right: 0;
        top: 3.5em;
    }

    .meetingTextArea input:checked ~ .meetingText textarea 
    {
        background-color: white !important;
        height: 100% !important;
        margin-top: 1.5em !important;
    }

    .meetingTextArea input:checked ~ .meetingText .meetingExpand 
    {
        display: none;
    }

    .meetingTextArea input:checked ~ .meetingText .meetingCollapse 
    {
        display: block;
    }
</style>

<script type="text/x-kendo-tmpl" id="meetingInitiativeListViewTemplate">
    <input type="hidden" id="url" value="#:Url#" />
    <input type="hidden" id="id" value="#:Id#" />
	<span class="listview-row-detail-form">#:Label#</span>
    <a data-role="detailbutton" data-icon="details"></a>
</script>

<script type="text/x-kendo-tmpl" id="meetingOtherListViewTemplate">
    <input type="hidden" id="url" value="#:Url#" />
    <input type="hidden" id="id" value="#:Id#" />
    <span class="listview-row-detail-form">#:Label#</span>
    <a data-role="detailbutton" data-icon="details"></a>
</script>
